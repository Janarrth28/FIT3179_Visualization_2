{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "Native vs Plantation fire area by state; bubble size = total forest area.",
    "title": {"text": "Native vs Plantation Burn Ratio (by Jurisdiction)","anchor": "start"},
    "width": 900,
    "height": 520,
  
    "data": { "url": "Australia_bush_fires_by_state_clean.csv" },
  
    "transform": [
      { "filter": "datum.State && datum.State !== 'Total'" },
  
      { "calculate": "toNumber(replace(datum.NativeBurnt, /,/g, ''))/1000", "as": "Native_kHa" },
      { "calculate": "toNumber(replace(datum.PlantationBurnt, /,/g, ''))/1000", "as": "Plantation_kHa" },
      { "calculate": "toNumber(replace(datum.TotalForest, /,/g, ''))/1000", "as": "TotalForest_Mha" }
    ],
  
    "mark": { "type": "circle", "opacity": 0.85, "stroke": "white" },
  
    "encoding": {
      "x": {
        "field": "Native_kHa",
        "type": "quantitative",
        "title": "Native forest area burnt (thousand ha)",
        "scale": { "domain": [0, 55], "nice": false },
        "axis": { "format": ",", "tickCount": 12 }
      },
      "y": {
        "field": "Plantation_kHa",
        "type": "quantitative",
        "title": "Commercial plantation area burnt (thousand ha)",
        "scale": { "domain": [0, 10], "nice": false },
        "axis": { "format": ",", "tickCount": 11 }
      },
      "size": {
        "field": "TotalForest_Mha",
        "type": "quantitative",
        "title": "Total forest area (million ha)",
        "scale": { "range": [80, 1500] }
      },
      "color": { "field": "State", "type": "nominal", "title": "State" },
      "tooltip": [
        { "field": "State", "title": "State" },
        { "field": "Native_kHa", "title": "Native burnt (k ha)", "format": ",.1f" },
        { "field": "Plantation_kHa", "title": "Plantation burnt (k ha)", "format": ",.1f" },
        { "field": "TotalForest_Mha", "title": "Total forest (million ha)", "format": ",.2f" }
      ]
    },
  
    "config": {
      "title": { "fontSize": 24, "fontWeight": "bold" },
      "axis": { "labelFontSize": 12, "titleFontSize": 14, "grid": true }
    }
  }
  